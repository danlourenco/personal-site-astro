---
import { Image } from 'astro:assets';
import type { Project } from '../config/projects.ts';

interface Props {
  project: Project;
}

const { project } = Astro.props;
---

<li class="group relative flex flex-col items-start h-full">
  {project.screenshot && (
    <div class="relative z-10 w-full mb-6">
      <Image
        src={project.screenshot}
        alt={`${project.title} screenshot`}
        width={400}
        height={300}
        class="w-full aspect-video object-cover rounded-lg bg-zinc-100 dark:bg-slate-700"
      />
    </div>
  )}
  <div class="flex flex-col flex-1 w-full">
    <h2 class={`text-base font-semibold text-zinc-800 dark:text-zinc-100 ${project.screenshot ? '' : 'mt-0'}`}>
      <div class="absolute -inset-x-4 -inset-y-6 z-0 scale-95 bg-zinc-50 opacity-0 transition group-hover:scale-100 group-hover:opacity-100 dark:bg-slate-700/50 sm:-inset-x-6 sm:rounded-2xl"></div>
      {project.href ? (
        <a href={project.href}>
          <span class="absolute -inset-x-4 -inset-y-6 z-20 sm:-inset-x-6 sm:rounded-2xl"></span>
          <span class="relative z-10">{project.title}</span>
        </a>
      ) : (
        <span class="relative z-10">{project.title}</span>
      )}
    </h2>
    <p class="relative z-10 mt-2 text-sm text-zinc-600 dark:text-zinc-400">
      {project.description}
    </p>
    {project.technologies && (
      <ul class="relative z-10 mt-4 flex flex-wrap gap-2">
        {project.technologies.map((tech) => (
          <li class="inline-flex items-center rounded-full bg-zinc-100 px-3 py-1 text-xs font-medium text-zinc-800 dark:bg-slate-700 dark:text-zinc-200">
            {tech}
          </li>
        ))}
      </ul>
    )}
    {project.href && project.linkText && (
      <p class="relative z-10 mt-auto pt-6 flex text-sm font-medium text-zinc-400 transition group-hover:text-zinc-600 dark:text-zinc-200 dark:group-hover:text-white">
        {project.linkType === 'github' ? (
          <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 flex-none">
            <path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0 1 12 6.844a9.59 9.59 0 0 1 2.504.337c1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0 0 22 12.017C22 6.484 17.522 2 12 2Z" fill="currentColor"/>
          </svg>
        ) : (
          <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 flex-none">
            <path d="M15.712 11.823a.75.75 0 1 0 1.06 1.06l1.003-1.003a.75.75 0 0 0 0-1.06l-1.003-1.003a.75.75 0 1 0-1.06 1.06L16.425 12l-.713.823Z" fill="currentColor"/>
            <path d="M12.75 5.25v13.5a.75.75 0 0 1-1.5 0V5.25a.75.75 0 0 1 1.5 0Z" fill="currentColor"/>
            <path d="M8.288 11.823a.75.75 0 1 1-1.06 1.06L6.225 11.88a.75.75 0 0 1 0-1.06l1.003-1.003a.75.75 0 1 1 1.06 1.06L7.575 12l.713.823Z" fill="currentColor"/>
          </svg>
        )}
        <span class="ml-2">{project.linkText}</span>
      </p>
    )}
  </div>
</li>